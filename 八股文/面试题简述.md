

#### 计网

+ **三次握手？二次？四次？**

  **如果客户端的ack未发送服务端会怎样？** 分服务端和客户端来答

  **如果已经建立连接，但是客户端出现故障怎么办？** 服务端：探测报文->75秒->10个->关闭连接

+ **四次挥手？**

  **为什么不能是三次挥手/Close_Wait的意义是什么？** 服务端还有数据没发送完

  **如果第二次挥手时服务器ACK没有送达客户端，会怎么样？** 客户端重新发FIN

  **TIME_WAIT状态的意义是什么？**ACK丢失，服务端重发FIN，2个最大报文生存时间

  **MSL、TTL和RTT的区别？** MSL：报文最大生存时间 TTL:生存时间 路由数 RTT：客户到服务器往返所花时间

+ **TCP的控制字段标志?** SYN  FIN ACK PSH RST

+ **TCP如何实现流量控制？** 滑动窗口协议 发送的上限为min(接收,拥塞)

+ **拥塞控制的实现？** 1.慢开始 2.拥塞避免 3.快重传 4.快恢复

+ **TCP和UDP的区别？**1. 连接/无连接 2.可靠/不可靠 3.1对1/1对多 4.字节流/报文 5.拥塞控制 6.首部开销 7.连接状态表

  **什么时候选TCP，什么时候选UDP？**实时性高UDP，内容可靠，不丢失TCP

  **HTTP可以使用UDP吗？**不可以

+ **TCP保证传输的可靠性？** 1.校验 2.排序 3.重复 4.应答机制 5.超时重发 6.流量控制

+ **TCP短连接和长连接？**

  短连接：每次数据传输完立马关闭 长连接：中间一直保持连接

  长短连接优缺点：长省时间，但是耗费资源 最好设置最大长连接数 http都是短连接 数据库的连接用长连接 并发量大的用短连接

  从 HTTP/1.1 开始默认是长连接

+ **面向连接和无连接的区别？**数据报服务 ，虚电路服务 （网络层）

+ **cookies和session区别？1**.客户端/服务端保持状态的方案 2.安全方面cookie不安全但是可以加密 3.cookies会过期  4.session过多会占用服务器内存 5.cookie不能超过4k 6.session容易失效  7.最大的区别在于生存周期

  **网站保存用户登录信息和在网站上操作保持是登录状态的方案？**

  cookies保存账号 密码 是否自动登录

  登录成功且选择了自动登录：三个信息保存在session和cookie上 在session上添加一个User的用户对象

  登录成功但没选择自动登录：把三个信息保存在session，把账号和是否自动登录保存在cookie，把密码设为空字符 在session上添加一个User的用户对象

  登录失败：把三个信息保存在session，把账号和是否自动登录保存在cookie，把密码设为空字符保存在cookie（不要保存密码）。不添加User对象

  是否为登录状态：先判断session是否保存了User，如果有则保持登录。如果没有 再判断cookies上的自动登录是否为true 可以保证用户在cookie过期前都可以在网站上保持登录状态。

  退出登陆：把user对象销毁 把cookies的是否自动登录（isRememberLogin）参数设为false，把密码设置为null

+ **http的状态码？** 12345开头分别代表什么？200 204 301302 304 400 403 404 410 500 503

+ **https的连接过程？**1.加密规则 2.证书、加密公钥、地址 3.合法 4.加密随机密钥 5.加密信息 6.解密

  **讲讲中间人攻击？**

  **HTTP的连接过程?** 1.域名解析 2.3次握手 3.http请求命令 4.Web浏览器发送http请求头信息  5.Web服务器应答 6.Web服务器发送应答头信息 7.Web服务器向浏览器发送数据 8.Web服务器关闭TCP连接

+ **http和https的区别？**1.端口不同80 443，2.明文/SSL，3.CUP和内存开销，4.证书

+ **http的请求方法有？** get：获取资源 head：获取报文首部 post：传输实体主体 put：上传文件 patch：对资源进行部分修改 delete：删除文件 options：查询支持的方法 connect：要求在与代理服务器通信时建立隧道 trace：追踪路径

  **get和post的区别？**1.幂等 2.获取/改变 3.请求数据的位置 4.安全性 5.编码 6.数据大小 7.请求数据/传输数据

+ **从输入网址到获得页面的详细过程？** 

  1.浏览器DNS，本地DNS缓存(host)，DNS服务器43的域名解析（网络接入服务器商提供）

  2.获得ip，请求连接，三次握手 

  3.连接建立，发送http请求（请求方法 URI协议/版本 请求头(Request Header)）请求正文

  4.服务器解析用户请求，相应的这些资源文件处理用户请求和参数用数据库信息，最后将结果通过web服务器返回给浏览器客户端。

  5.浏览器解析并渲染视图，js，css 静态资源的引用，重复请求资源

  6.关闭TCP链接

  7.浏览器根据请求到的资源，数据渲染页面，最终呈现完整的画面

  **http请求报文的结构？**一：请求方法、URL、协议版本 多行：请求首部 Header  空格后：内容主体 Body

  **http相应报文的结构？** 一：协议版本、状态码以及描述 多行：首部内容 空行后：内容主体

+ **常见协议及其它们的端口号？**

  FTP(21),SSH(22),TELNET(23),SMTP(25),POP3(110),HTTP(80),DNS(53)

+ **路由器和交换机位于哪层？**路由：网络层 IP寻址 交换机数据链路层：MAC寻址

+ **什么是ARP协议?** 完成了IP地址与物理地址的映射。局域网

+ **广播风暴**？广播数据充斥网络无法处理，并占用大量网络带宽，导致正常业务不能运行，甚至彻底瘫痪

  **怎样解决UDP广播风暴？**采用恰当划分vlan、缩小广播域、隔离广播风暴

+ **正向代理和反向代理？** 正向代理：用户察觉得到正向代理的存在 反向代理：一般位于内部网络中，用户察觉不到

+ 

+ 

  

#### 操作系统

- **进程和线程的区别？** 1.基本单位 2.依赖 3.地址空间 4.系统资源 5.切换开销 6.通信 7.崩溃

  **同一进程中的线程可以共享哪些资源？**1进程代码段 2.进程公有数据 3.文件描述符 4.当前目录 5.信号处理器 6.进程ID与进程组ID

  **线程独占哪些资源？**1.线程ID，2.一组寄存器的值，3.栈 4.错误码 5.信号掩码

- **进程间通信有哪些方式？**1.管道 2.命名管道 3.消息队列 4.共享内存 5.信号量 6.信号 7.套接字

- **管程是什么？** 接口功能模块，共享变量

- **临界区的概念？** 互斥资源/共享变量，一次只能给一个进程使用

- **缓冲区溢出？** 

- **同步和互斥的概念？** 同步：先后顺序 互斥：一次一个

- **并发、并行、异步的区别？** 同步：顺序执行，异步：等待的同时做自己的事

  **虚拟技术是什么？** 时分复用技术和空分复用技术。

  **谈谈多线程？**串行和并行 线程安全，不管如何，都不用做同步 

  **确保线程安全的方法？**竞争与原子操作 同步与锁 可重入 过度优化

- **进程的状态？** 若三种则就绪状态，运行状态，阻塞状态

- **进程调度策略？**

  批处理系统：1.先来先服务调度，2.最短作业优先调度 3.最短剩余时间优先调度 4.最高相应比优先

  交互式系统：1.时间片轮转 2.优先级调度 3.多级反馈队列调度

- **什么叫优先级反转？** 优先级天花板，优先级继承

- **什么是僵尸进程？** 子进程结束，父进程没有等它， 进程表保留位置 ID，终止状态，资源利用信息等待父进程或者系统重启 危害：占用进程号

- **什么是孤儿进程？**父进程结束，子进程还在运行 被init回收

- **线程同步的方式？**1.互斥量 2.信号量 3.事件 4.临界区

  **互斥量和临界区的区别？** 互斥量可命名，用于不同进程之间的同步 临界区：同一进程下线程同步，互斥量资源多， 临界区速度快，节省资源

- **什么是协程？**用户态的轻量级线程 完全由用户控制 上下切换很快

  **协程和线程的比较？**线程可以有多个协程 线程进程都是同步，协程是异步 协程能保留上一次调用的状态

- **什么是I/O多路复用？**单个进程/线程就可以同时处理多个IO请求

- **什么是水平触发和边缘触发？** 水平：文件描述符一就绪就通知 边缘：从未就绪到就绪就通知 边缘效率高

- **什么是用户态和内核态？**用户态受限制地访问内存，没有占用CPU的能力 内核态：访问所有内存数据，可以程序切换 使用陷阱指令，CPU切换到内核态

  **为什么要分用户态和内核态？** 安全性，封装性，利于调度

  **如何从用户态切换到内核态？** 系统调用，用户程序异常，外围设备中断 

  **中断的分类?** 外中断：CPU 执行指令以外的事件引起 异常：CPU 执行指令的内部事件引起 陷入：在用户程序中使用系统调用

  **讲讲软中断和和硬中断？**

- **死锁？**四个充要 1.互斥  2.非抢占 3.请求保持 4.环路等待

  **怎么避免？**动态监测资源分配情况 安全状态

  **怎么预防？**破坏四个条件

  **怎么解除？**抢占，回滚，杀死进程

- **分页和分段？**

  分页：用户空间划分大小相同的页，内存空间划分大小相同为页框，分配以页为单位，逻辑相邻的页物理不一定相邻

  分段：进程地址空间按自身逻辑划分若干端，大小不同，在内存占连续的空间，各不相邻

  **区别？**目的不同：管理内存/满足用户的需要 大小不同 唯一/不固定 地址空间维度不同：分段二维 分页一维 分段保护和共享 分段没有内存碎片，有外存碎片 ，分页相反 段页式存储：产生内存碎片、外存碎片

  **内存碎片和外存碎片？** 内存已分配 ，外存未分配

- **什么是虚拟内存？** 逻辑上似乎有很大的内存，实际只有一部分子存储在磁盘上

  **优点？**让程序获得更多的可用内存

- **有哪些页面置换算法？** 1.最佳页面置换算法（最优） 2.先进先出 3.第二次机会算法 4.时钟算法 5.最近未使用算法 6.最近最少使用算法 7.最不经常使用算法

  **什么是颠簸现象？** 一置换一页，又需要它来来回回，修改页面置换算法

- **有哪些磁盘调度算法？**1.先来先服务 2.最短寻道时间优先 3.电梯算法

- **讲讲宏内核和微内核？** 宏：操作系统结合的整体放到内核 微：将一部分操作系统功能移出内核

- **Unix哪五种I/O 模型？** 1.阻塞式 2.非阻塞式 3.I/O复用(select和poll) 信号  4.信号驱动式 I/O 异步 I/O

- **select和poll函数的区别？**  功能上：1.select修改描述符  2.描述符数量  3.重复利用 速度：都慢  可移植性：select优于poll

  **select,poll,epoll的应用场景？** select：实时性 poll：对实时性要求不高 epoll：同时监听多个描述符

- 

- 

  

  

#### MYSQL

+ **事务的概念和特性？** ACID

  **什么是嵌套事务？**子事务是父事务的一部分 在进入子事务之前，父事务建立一个回滚点，叫save point

  **如果子事务回滚，会发生什么？**回滚到进入子事务前建立的save point

  **如果父事务回滚，会发生什么？**跟着回滚 父事务结束之前，子事务是不会提交的

  **事务的提交，是什么情况？**由父事务统一提交。

+ **会出现哪些并发一致性问题？**丢失修改，脏读，不可重复读，幻读

+ **四种隔离级别？** 读未提交，读提交，可重复读，可串行化 

+ **什么是乐观锁和悲观锁？** 乐：读前上锁 悲：不加锁，但是看是否修改 版本号

+ **常见的封锁类型？** 排它锁FOR UPDATE, 共享锁 LOCK IN SHARE MODE，意向锁

+ **常见的封锁粒度？**行级锁，表级锁，间隙锁，neck-lock

  **间隙锁？** 间隙锁是Innodb在可重复读提交下为了解决幻读问题时引入的锁机制。

  唯一索引：如果该记录不存在，会产生记录锁和间隙锁，如果记录存在，则只会产生记录锁

  普通索引：不管是何种查询，只要加锁，都会产生间隙锁，这跟唯一索引不一样

+ **三级封锁协议？** 1.修改数据前加X锁，结束解除(解决丢失修改) 2.在一级基础上读取数据前加S锁，读完解除（避免脏读）3.在二级基础上，读取数据前加S锁，事务结束后解除(解决不可重复读)

+ **什么是两段锁协议？**分两个阶段加锁和解锁，是可串行化的充分条件

+ **什么是MVCC？**多版本并发控制  隐藏列 创建版本号和删除版本号 可用来实现读提交和可重复读

+ **数据库范式？**第一范式：属性不可分。第二范式：非主属性完全依赖主属性 第三范式：非主属性不传递依赖于主属性 BC:每个属性都不传递依赖于R的候选键(管理员号，仓库号，物品号，数量) 第四范式：多值依赖（课程，老师，教材）

+ **表连接？**内连接（自然，等值）外连接（左连接，右连接，全外连接Full outer join）交叉连接

+ **什么是存储过程?有哪些优缺点？** 预编译，减少网络通信量，可复用性，安全性高，易维护，可移植性差，开发调试复制，修改复杂

+ **Drop/Delete/Truncate区别？** Drop：不可回滚，约束也删 Truncate：不可回滚，约束不删 ：Delete：可回滚

+ **哪些约束类型？**  主键约束，唯一约束，检查约束，非空约束，外键约束

+ **什么是视图？**虚拟表 

+ **B+和B树的比较？** IO次数少，范围查询效率更高，查询效率更加稳定

+ **B树索引和hash索引？** 排序分组，范围查找，哈希冲突

+ **聚簇索引？**按照每张表的主键构造一颗B+树，主键作为关键字组织到B+树的各个节点上，而叶子节点上存储的是主键列的值和对应的整行数据。

  **MySQL又是怎样确定使用哪个字段作为主键索引？**1.指定了主键 2.选取一个唯一索引 3.自动生成一个6字节的整型唯一标识

  **聚簇索引和非聚簇索引本质的区别？**B+树的叶子节点上存储的是行数据还是行数据的地址（行号）。

  **为什么主键通常建议使用自增id？**聚簇索引的数据的物理存放顺序与索引顺序是一致的

+ **使用索引的优点/缺点？** 检索速度，分组和排序，唯一性，顺序I/O，建立和维护

  **哪些时候索引会失效？** %开头 OR 隐式转化 最左前缀原则  全盘比索引快

  **在哪些地方适合创建索引？** 最大最小值，经常被查询，经常用作连接，经常出现在order by/group by/distinct

  **创建索引需要注意？**小字段 非空 数据密度大(唯一值占总数的百分比很大)

  **索引分类？**普通索引，唯一索引，主键索引，复合索引，覆盖索引，聚集索引，虚拟索引

+ **什么是回表查询？**现在的索引找到主键索引，在使用主键索引找到整行数据

  **什么是索引覆盖？** 通过现在的索引可以直接获取所有的字段，不需要再去主键索引上查找

+ **Innodb和Myisam区别？**1.事务 2.行级锁 3.外键 4.恢复速度 5.压缩表和空间数据索引/内存和存储 6.热备份

+ **什么是热备份和冷备份？** 热：在数据库运行下备份 冷：复制关键性文件

+ **Mysql的慢查询？**慢查询日志 MySQL提供的一种日志记录，记录响应时间超过阀值

+ **如何优化数据库？**

  SQL语句优化：

  1.尽量避免使用!=,<,>操作符对null判断，不然会全表扫描

  2.只返回必要的行和列 不用*和多用limit 

  3.大链接查询分解成对每个表的单表查询，然后再应用程序进行关联

  索引的优化：

  数据库表结构的优化：三大范式，数据类型，水平节分，垂直切分

  系统配置的优化：缓存池大小和个数，增加TCP支持的队列数

  硬件的优化：固态硬盘，CPU，内存

+ **什么是主从复制？** 默认异步  

  实现原理：主服务器将数据更改日志写入二进制log中。

  服务器I/O线程：从主服务器读取二进制log，写入本地Relay log

  服务器SQL线程：负责读Relay log，解析，并重新执行，保证主从数据的一致性

  **为什么要主从复制？**读写分离 数据备份，降低单个服务器磁盘I/O访问

+ **关系型数据库和非关系型数据库的区别？** 

+ **MySQL，给出建表语句**

  **index(a,b,c)  select * from T where a=x, b=y, c=z**

  **如果把这个复合索引改成a=x, b > y, c=z 会怎样？** c=z 会失效 因为不确定第二关键字

  **a=x，c=z这个怎样？** 只会对a进行索引查询

  **c=z，a=x呢？**只会对a进行索引查询

+ **count(\*)、count(1)、count(column)的区别？** count(\*)对行的数目进行计算,包含NULL count(column)对特定的列的值具有的行数进行计算,不包含NULL值。count(1)= count(\*)

#### 系统设计

+ **吞吐量是什么？**指系统在单位时间内可以处理的请求数量，通常使用每秒的请求数来衡量

+ **扩展性是什么?**添加新功能时对现有系统的其它应用无影响

  **实现扩展性的方法？** 

+ d

#### C++

+ **指针和引用的区别？**1.空间/别名 2.4字节/对象大小 3.初始化NULL/必须已有对象 4.指针解引用才能操作/引用直接修改 5.可以有const指针/没有 6.指针可以修改指向的对象 7.指针可以多级 8.指针和引用的++不一样 9.动态返回对象或内存 指针 内存泄漏 

  **地址上的区别？**

+ **C程序在内存中的分布？**

+ **C++中的内存泄露的情况？** 

  1.在类的构造函数和析构函数中没有匹配的调用new和delete函数

  2.没有将基类的析构函数定义为虚函数

+ **构造函数能否重写？**不能

+ **源程序变为可执行程序的顺序？**编辑->预处理->编译->汇编->链接->执行

+ **空类占用多少内存？**1字节，因为两个不同的对象需要不同的地址

+ **static的作用？**1.局部变量，生命周期 data段 直到程序运行结束才结束。 2.全局变量，改变其作用域，使只能在定义的文件中使用 3.函数，当前的文件中使用。

+ **虚函数？**用virtual关键字申明的函数叫做虚函数，虚函数主要用于实现多态，有纯虚函数和非纯虚函数。纯虚函数需要子类必须重写父类函数。纯虚函数的存在使得类不可以实例化。技术上实现是virtual ＝0.虚函数以函数指针的形式存放在虚函数表里。初始存放的是父类虚函数的地址。若子类重写了父类的函数，则对应地址被覆盖为相应子类函数的地址。

  **纯虚函数？**一个类中至少有一个纯虚函数，那么就称该类为抽象类。

  **什么是虚继承？**让某个类做出声明，承诺愿意共享它的基类。

+ **什么是多态？**父类指针可以根据具体指向的子类对象，来执行不同的函数

  **怎么实现的？** 虚函数表

+ **深拷贝和浅拷贝？**浅拷贝：增加了一个指针指向已存在的内存地址 深拷贝：一个指针并且申请了一个新的内存，使这个增加的指针指向这个新的内存

+ **c++五种内存分配/C++的内存管理？** 栈 堆 自由存储区 全局/静态存储区 常量存储区

+ **new和malloc区别？** 属性 参数 返回类型 分配失败 构造和析构 重载 内存区域

+ **请你说一下fork函数？**创建一个和当前进程映像一样的进程可以通过fork（）系统调用

+ **C++11 新特性？**

  扩展了C++的标准程序库（STL）

  auto 自动类型推导 decltype有点像auto的反函数 nullptr新的类型 lambda表达式

  move和forward 右值引用和完美转发

  智能指针：帮助管理动态分配的内存

  **讲讲智能指针？**

  std::unique_ptr 仅有一个实例拥有内存所有权

  std::shared_ptr 主要区别在于前者是使用引用计数的智能指针。，可以有多个`std::shared_ptr`实例可以指向同一块动态分配的内存，当最后一个引用对象离开其作用域时，才会释放这块内存。

  std::weak_ptr 就是为了防止std::shared_ptr出现死锁

  **use_count()的作用？**

+ **c++只有虚函数才能被重写吗?** 普通成员函数也可以被重写 但是不建议这样做，因为没有意义

+ **为何map和set的插入删除效率比其他序列容器高？** 因为不需要拷贝和内存移动

  **为何map和set每次insert之后，以前保存的iterator不会失效？**只是节点指针换来换去，节点内存没有改变 

+ **struct和class的区别？** 默认防控类型，继承，定义模板参数

+ **红黑树？**

+ **vector的底层原理？** 动态数组 三个迭代器

  **vector内存增长机制？**申请另一片更大的空间，一般是两倍，然后把原来的数据拷贝到新的内存空间，接着释放原来的那片空间。

+ **虚拟内存,共享内存,常驻内存？**

  虚拟内存：进程使用的库、代码、数据，以及malloc、new分配的堆空间和分配的栈空间等

  共享内存：进程当前使用的内存大小

  共享内存：除了自身进程的共享内存，也包括其他进程的共享内存

+ 如何采用单线程的方式处理高并发

  I/O复用 异步回调

+ 

+ 

+ 

+ 

#### python

+ **python爬虫原理？**模拟浏览器发送请求，提取有用数据，存放于数据库或文件中

+ **python里is和\=\=的区别？**is比较的是id值相同不相同，而\=\=仅比较值 -5到255用的是内存，ID相同

#### Java

+ **Java是如何实现跨平台的?** .class 文件 只要在不同平台上安装对应的JVM，就可以运行字节码文件

+ **JRE，JDK, JVM是什么?**

  JDK: Java 语言的软件开发工具包

  JRE: Java运行环境

  JVM: Java虚拟机

+ d